!function(){function a(a,b,c,d,e,f,g,h,i){var j,k=this;k.init=function(){e.getAnimation(f.id).success(function(b){a.animation=a.findAnimationModel(a.category,a.id),$.extend(a.animation,b),k.populateAnimationModel(a.animation),k.renderUI(),k.bindUI(),k.syncUI(),k.cacheTemplates()})},k.cacheTemplates=function(){i.getTemplate("htmlTemplate.html",{animationList:[a.animation]}).done(function(){i.getTemplate("jQueryTemplate.html",{animationList:[a.animation]}).done(function(){i.getTemplate("aniJSTemplate.html",{animationList:[a.animation]}).done(function(){})})})},k.renderUI=function(){$('[data-toggle="tooltip"]').tooltip(),j=CodeMirror($(".m-code-editor .editor")[0],{mode:"css",lineNumbers:!0,beautify:!0})},k.bindUI=function(){var a=new ZeroClipboard($(".copy-button"));a.on("copy",function(a){var b=a.clipboardData;b.setData("text/plain",j.getValue()),$(".tooltip .tooltip-inner").html("Copied!!"),$(".tooltip").css("left","-10px")})},k.syncUI=function(){a.showCSSCode(function(){a.$parent.$hideLoading=!0,h.animateItems(".be-animated",a.animation.className),h.animateItems(".m-code-editor",a.animation.className),h.animateItems(".m-button-bar button",a.animation.className)})},a.editorMode="css",a.selectedAnimationList=a.$parent.selectedAnimationList,a.category=f.category,a.id=f.id,a.showCSSCode=function(b){i.getTemplate("cssTemplate.html",{animationList:[a.animation]}).done(function(c){j.setOption("mode","css"),j.setValue(c),k.autoFormatRange(),a.editorMode="css",b&&b()})},a.showHTMLCode=function(){i.getTemplate("htmlTemplate.html",{animationList:[a.animation]}).done(function(b){j.setOption("mode","xml"),j.setOption("alignCDATA",!1),j.setValue(b),a.editorMode="html"})},a.showJQueryCode=function(){i.getTemplate("jQueryTemplate.html",{animationList:[a.animation]}).done(function(b){j.setOption("mode","javascript"),j.setOption("beautify",!0),j.setValue(b),a.editorMode="jquery"})},a.showAniJSCode=function(){i.getTemplate("aniJSTemplate.html",{animationList:[a.animation]}).done(function(b){j.setOption("mode","xml"),j.setOption("beautify",!0),j.setValue(b),a.editorMode="anijs"})},a.shareTwitter=function(b){b.preventDefault(),a.animation.shareUrl=encodeURIComponent(window.location.href),i.getTemplate("twitterTemplate.html",a.animation).done(function(a){window.open(a)})},a.shareGooglePlus=function(b){b.preventDefault(),a.animation.shareUrl=encodeURIComponent(window.location.href),i.getTemplate("gplusTemplate.html",a.animation).done(function(a){window.open(a)})},a.shareFacebook=function(b){b.preventDefault(),a.animation.shareUrl=encodeURIComponent(window.location.href),i.getTemplate("facebookTemplate.html",a.animation).done(function(a){window.open(a)})},a.localSave=function(){var b="css",c=a.editorMode;"anijs"===c||"html"===c?b="text":"jquery"===c&&(b="plain"),window.open("data:text/"+b+";charset=utf-8,"+encodeURIComponent(j.getValue()))},k.populateAnimationModel=function(b){b.getCSSCode=function(){return a.animation.cssCode},b.getHTMLCode=function(){return a.animation.cssCode}},k.autoFormatRange=function(){var a=j.lineCount();j.autoFormatRange({line:0,ch:0},{line:a}),j.doc.setCursor({line:0,ch:0})},k.init()}a.$inject=["$scope","$templateCache","$http","$compile","localAPIRetrieve","$routeParams","collectionHelperService","animateService","templateService"],angular.module("collection").controller("detailController",a)}();