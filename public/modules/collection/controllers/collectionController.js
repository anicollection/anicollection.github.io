!function(){function a(a,b,c,d,e,f,g,h){function i(b){var c,d,e=b.length,g=0;for(g;e>g;g++){c=b[g];for(var h=0;h<c.animationList.length;h++)c.animationList[h].color=j(h),d=f.findModelbyName(a.selectedAnimationList,c.animationList[h].name),d&&(c.animationList[h]=d,c.animationList[h].isSelected=!0)}return b}function j(a){var b,c=["#1F8DD6","#FBB44C","#FC797A","#2ABB9B","#6EB6E5","#FFDA72","#FF9672","#68E9AB","#44A0DC","#FFCE44","#FFA0A0","#3CE292","#FC797A","#FBB44A","#DE8CBA","#D6F499","#AFDFDF","#FFB59B"];return b=_.random(0,8),c[a]}var k=this;k.init=function(){k.populateSelectedAnimationList(),b.getCategories().success(function(b){a.categoryList=i(b)})},k.populateSelectedAnimationList=function(){a.selectedAnimationList=e.get("selectedAnimationList"),a.selectedAnimationList||e.set("selectedAnimationList",[]),a.unbind=e.bind(a,"selectedAnimationList")},a.nameFilter=null,a.categoryList=[],a.selectedAnimationList=[],a.hideSelectedAnimationListPopover=!0,a.searchFilter=function(b){var c=new RegExp(a.nameFilter,"i");return!a.nameFilter||c.test(b.name)},a.toggleSelectedAnimationListPopover=function(){a.hideSelectedAnimationListPopover=a.hideSelectedAnimationListPopover?!1:!0},a.onMouseOverItemSquare=function(a){var b=$(a.currentTarget),c=b.find(".content"),e="animated "+this.animation.name;b.addClass("active"),d.animateItems(c,e)},a.onMouseLeaveItemSquare=function(a){var b=$(a.currentTarget);b.removeClass("active")},a.onMouseOverCaption=function(a){var b=$(a.currentTarget);b.addClass("active")},a.onMouseLeaveCaption=function(a){var b=$(a.currentTarget);b.removeClass("active")},a.goToDetailView=function(b){b.preventDefault(),a.$hideLoading=!1,window.location.hash=b.currentTarget.hash},a.add=function(c){var e,f=c;e=_.find(a.selectedAnimationList,function(a){return a.name===f.name?(a.isSelected=!0,!0):!1}),e||(a.selectedAnimationList.push(f),f.isSelected=!0,d.animateItems(".m-button-icon-label .label","bounce animated"),f.cssCode||b.getAnimation(f.name).success(function(a){$.extend(f,a)})),g.cacheTemplates([f])},a.removeFromSelectedAnimationList=function(b){var c=a.selectedAnimationList;a.selectedAnimationList=_.filter(c,function(a){return a.name!==b.name?!0:(b.isSelected=!1,a.isSelected=!1,!1)})},a.removeAll=function(){var b=a.selectedAnimationList,c=b.length,d=0;for(d;c>d;d++)b[d].isSelected=!1;a.selectedAnimationList=[]},a.addAll=function(){for(var b=f.getAllModels(a.categoryList),c=0;c<b.length;c++)a.add(b[c])},a.downloadCSSCode=function(){g.getTemplate("cssTemplate.html",{animationList:a.selectedAnimationList}).done(function(a){h.download("css",a)})},a.downloadHTMLCode=function(){g.getTemplate("htmlTemplate.html",{animationList:a.selectedAnimationList}).done(function(a){h.download("html",a)})},a.downloadJQueryCode=function(){g.getTemplate("jQueryTemplate.html",{animationList:a.selectedAnimationList}).done(function(a){h.download("jquery",a)})},a.downloadAniJSCode=function(){g.getTemplate("aniJSTemplate.html",{animationList:a.selectedAnimationList}).done(function(a){h.download("anijs",a)})},a.findAnimationModel=function(b,c){var d,e;return d=_.find(a.categoryList,function(a){return a.name===b}),e=_.find(d.animationList,function(a){return a.name===c})},a.$on("afterRepeatDirective",function(){a.$hideLoading=!0}),k.init()}a.$inject=["$scope","localAPIRetrieve","$location","animateService","localStorageService","collectionHelperService","templateService","downloadService"],angular.module("collection").controller("collectionController",a)}();